FROM docker
RUN apk add python3 openjdk17-jre git wget bash
RUN cd home && \
    git clone https://github.com/QueueInc/HAMLET.git
RUN cd /home/HAMLET && \
    git checkout develop/comparison && \
    tr -d 'r' < ./scripts/run_hamlet.sh > ./scripts/run_hamlet.sh && \
    tr -d 'r' < ./scripts/run_comparison.sh > ./scripts/run_comparison.sh && \
    chmod 777 scripts/*
WORKDIR /home/HAMLET
CMD ["./scripts/run_hamlet.sh", "results/hamlet", "balanced_accuracy", "max", "500", "3600", "1.0.0", "1", "$(pwd)/resources/kb.txt"]
